
$(function () {
  var optionsMapEvol = {
    chart: {
      renderTo: 'map_evol',
      type: 'area'
    },
    title: {
      text: ''
    },
    credits: {
      enabled: false
    },
    exporting: {
      enabled: false
    },
    xAxis: {
      categories: [1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016],
      tickInterval: 5,
      title: {
        enabled: false
      }
    },
    yAxis: {
      title: {
        text: "% des victimes d'attentats terroristes"
      }
    },
    tooltip: {
      pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.percentage:.1f}%</b> ({point.y:,.0f} victimes)<br/>',
      split: true
    },
    plotOptions: {
      area: {
        stacking: 'percent',
        lineColor: '#ffffff',
        lineWidth: 1,
        marker: {
          enabled: false
        }
      }
    },
    series: [{
      name: 'Europe',
      data: [78,112,431,296,412,299,324,196,235,301,381,177,180,165,178,263,166,188,437,125,179,443,289,222,154,226,209,155,163,452,444,334,527,342,804,217,65,74,104,158,239,255,189,157,1472,961,350]
    }, {
      name: 'Amérique du Nord',
      data: [34,20,11,46,18,56,30,15,15,23,18,8,13,8,16,334,1,1,3,18,8,15,8,53,98,232,98,231,8,20,5,3018,4,2,0,2,8,25,23,20,4,0,24,70,27,53,73]
    }, {
      name: 'Amérique du Sud',
      data: [14,6,6,16,21,166,218,83,257,719,3182,3553,4070,7833,8107,4434,2106,2664,2763,2791,2267,2952,1647,1118,590,731,813,1390,599,299,441,595,369,196,127,153,100,85,109,139,58,45,182,169,162,127,80]
    }, {
      name: 'Afrique et Moyen Orient',
      data: [3,8,33,12,85,89,50,60,783,700,524,874,654,1238,1180,934,1208,1229,1100,1666,1438,1891,4325,4811,5298,2339,3519,6883,2516,1557,1650,2075,2216,1579,2860,4284,5988,8599,4942,4711,3490,3888,7970,13997,32516,28247,25712]
    }, {
      name: 'Asie du sud',
      data: [42,2,84,0,5,7,48,102,163,352,284,238,217,197,957,1127,1486,2393,2864,3499,3240,3089,3120,2247,1375,2445,2215,2150,1291,1018,1836,1678,1678,1156,1887,1627,3195,4074,3914,4047,3921,4008,7038,7779,9058,8938,8409]
    }, {
      name: 'Autres',
      data: [0,25,1,0,1,0,2,0,6,5,2,1,1,3,12,2,9,1,22,37,16,39,356,266,176,121,111,119,111,42,26,43,5,3,40,30,6,1,43,196,15,32,33,62,331,138,52]
    }]
  };
  var chartMapEvol = new Highcharts.Chart(Highcharts.merge(optionsMapEvol, null));
});
