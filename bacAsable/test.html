<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <title>Carte du monde</title>
  <!--
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
-->
<script src="js/jquery.min.js"></script>
<!--
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
-->
<script src="js/d3.min.js"></script>
<style>
.container {
  width : 70%;
  margin-left: auto;
  margin-right: auto;
}
</style>
</head>

<body>

  <div class="container"></div>

  <script>

  $(document).ready(function() {

    //var width = 960;
    //var height = 500;
    var width = $(".container").width();
    var height = 2*width/3;

    var svg = d3.select(".container").append("svg")
    .attr("width", width)
    .attr("height", height);
    var g = svg.append("g");

    var projection = d3.geo.mercator().translate([width/2, height/2]);


    var path = d3.geo.path()
    .projection(projection);

    var url = "countries-land-10km.geo.json";
    d3.json(url, function(err, geojson) {
      svg.append("path")
      .attr("d", path(geojson));
    })

    // points
    paris = [48.8042, 2.7905];

    svg.selectAll("circle")
    .data([paris]).enter()
    .append("circle")
    .attr("cx", function (d) { console.log(projection(d)); return projection(d)[0]; })
    .attr("cy", function (d) { return projection(d)[1]; })
    .attr("r", "8px")
    .attr("fill", "red")

  });

  });

  </script>
</body>
